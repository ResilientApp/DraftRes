<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" class="__meteor-css__" href="https://d3ibm5lrns1d5x.cloudfront.net/a948b5d6d805f940e59d7e9c7c15240c7224aa16.css?meteor_css_resource=true">
    <title>Draft Fantasy Football - Premier League Fantasy Football (EPL, BPL, FPL Draft &amp; Auction)</title>  
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png?v=2">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png?v=2">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png?v=2">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png?v=2">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png?v=2">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png?v=2">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png?v=2">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png?v=2">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png?v=2">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png?v=2">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png?v=2">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png?v=2">
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,400i,600|Oswald:500" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <link href="css/style1.css" rel="stylesheet">
  </head>

  <body>
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h4 class="modal-title">Join League</h4>
      </div>
      <div class="modal-body">
        <form role="form" id="joinLeagueForm" action="draft-page.html" method="get">
              <div class="form-group">
                  <label for="leagueName">League Name</label>
                  <input type="text" class="form-control" id="leagueName" name="leagueName" placeholder="Champions League">
              </div>
              <div class="form-group">
                <label for="password">Password</label>
                <div class="password-wrapper">
                    <input type="password" class="form-control" name="password" id="password" placeholder="Enter League Password">
                    <i class="bi bi-eye-slash" id="togglePassword"></i>
                </div>
              </div>
              <div class="form-group">
                  <label for="teamName">Team Name</label>
                  <input type="text" class="form-control" name = "teamName" id="teamName" placeholder="Super Team">
              </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary" id="joinLeagueBtn">Join league</button>
      </div>
    </div>
    <script>
      const togglePassword = document.querySelector('#togglePassword');
      const password = document.querySelector('#password');
      togglePassword.addEventListener('click', function (e) {
          // toggle the type attribute
          const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
          password.setAttribute('type', type);
          // toggle the eye / eye slash icon
          this.classList.toggle('bi-eye');
      });
      document.addEventListener('DOMContentLoaded', function() {
    // Select the form and the button
    var form = document.getElementById('joinLeagueForm');
    var button = document.getElementById('joinLeagueBtn');

    // Add an event listener for the 'click' event on the button
    button.addEventListener('click', function(event) {
      event.preventDefault(); // Prevent the default form submission

      // Create a new FormData object passing in the form
      var formData = new FormData(form);
      var queryParams = new URLSearchParams();

      // Append each field to the queryParams string, except for the password
      formData.forEach((value, key) => {
        if (key !== 'password') {
          queryParams.append(key, value);
        }
      });

      // Redirect to draft-page.html with the query parameters
      window.location.href = `draft-page.html?${queryParams}`;
    });
  });


    </script>
  </body>
</html>